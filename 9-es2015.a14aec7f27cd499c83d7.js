(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"Ann/":function(t,r,c){"use strict";c.r(r),c.d(r,"ProductsModule",(function(){return j}));var e=c("ofXK"),n=c("tyNb"),o=c("3Pt+"),i=c("KM1M"),d=c("fXoL"),s=c("SAtu");let b=(()=>{class t{constructor(t,r){this.userservice=t,this.router=r}canActivate(t,r){return this.checkIfAuth(r.url)}checkIfAuth(t){return this.userservice.getIsAuth()||(this.userservice.redirectURL=t,this.router.navigate(["/user/login"]),!1)}}return t.\u0275fac=function(r){return new(r||t)(d.Yb(s.a),d.Yb(n.f))},t.\u0275prov=d.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var a=c("R0Ic"),u=c("Wp6s");const p=function(t){return[t]};function l(t,r){if(1&t&&(d.Ub(0,"mat-card",1),d.Ub(1,"mat-card-header"),d.Ub(2,"mat-card-title",2),d.Ac(3),d.Tb(),d.Ub(4,"mat-card-subtitle"),d.Ac(5,"Fresh Product!"),d.Tb(),d.Tb(),d.Ub(6,"mat-card-content"),d.Ub(7,"div",3),d.Pb(8,"img",4),d.Pb(9,"br"),d.Ub(10,"div"),d.Ub(11,"div",5),d.Ub(12,"div",6),d.Ub(13,"div",7),d.Pb(14,"span",8),d.Pb(15,"span",8),d.Pb(16,"span",8),d.Pb(17,"span",8),d.Pb(18,"span",8),d.Tb(),d.Tb(),d.Tb(),d.Ub(19,"p"),d.Ub(20,"span"),d.Ac(21),d.hc(22,"currency"),d.Tb(),d.Pb(23,"br"),d.Ub(24,"span"),d.Ac(25),d.Tb(),d.Pb(26,"br"),d.Tb(),d.Tb(),d.Tb(),d.Ub(27,"div",9),d.Ub(28,"p",10),d.Ac(29,"Click to view in product-details"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){const t=d.gc();d.nc("routerLink",d.pc(15,p,t.product.productId))("title","Click to view product details"),d.Cb(3),d.Bc(null==t.product?null:t.product.name),d.Cb(5),d.nc("src",null==t.product?null:t.product.imageUrl,d.vc)("alt",null==t.product?null:t.product.name),d.Cb(4),d.yc("width",t.starWidth,"px"),d.nc("title",t.rating),d.Cb(9),d.Bc(d.kc(22,10,null==t.product?null:t.product.price,"ksh ","symbol","1.2-2")),d.Cb(4),d.Cc("Serial: ",null==t.product?null:t.product.productCode,"")}}let h=(()=>{class t{ngOnChanges(){this.product&&(this.rating=this.product.productCode,this.starWidth=15*this.rating)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Ib({type:t,selectors:[["app-product-thumbnail"]],inputs:{product:"product"},features:[d.Ab],decls:1,vars:1,consts:[["class","shadow-lg p-3 mb-5 bg-white rounded","id","matCard",3,"routerLink","title",4,"ngIf"],["id","matCard",1,"shadow-lg","p-3","mb-5","bg-white","rounded",3,"routerLink","title"],[1,"mat-card-title","text-success"],[1,"row","px-2"],[1,"card-img-top",3,"src","alt"],[1,""],[1,"crop","div",3,"title"],[1,"div",2,"width","75px"],[1,"fa","fa-star"],[1,"d-block"],[1,"grad"]],template:function(t,r){1&t&&d.zc(0,l,30,17,"mat-card",0),2&t&&d.nc("ngIf",r.product)},directives:[e.l,u.a,n.g,u.d,u.g,u.f,u.b],pipes:[e.c],styles:["img[_ngcontent-%COMP%]{width:100%;height:27vh}#matCard[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px;cursor:pointer}.mat-card-title[_ngcontent-%COMP%]{color:#07f}#matCard[_ngcontent-%COMP%]:hover{background-color:#cbbdd8}.grad[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#eee,green);color:green;margin-left:10px;height:6vh;padding-top:2px}.crop[_ngcontent-%COMP%]{overflow:hidden}.div[_ngcontent-%COMP%]{cursor:pointer}.fa-star[_ngcontent-%COMP%]{color:#240361}@media (max-width:575px){img[_ngcontent-%COMP%]{width:80%}}"]}),t})();function m(t,r){if(1&t&&(d.Ub(0,"div",11),d.Pb(1,"app-product-thumbnail",12),d.Tb()),2&t){const t=r.$implicit;d.nc("@fade",void 0),d.Cb(1),d.nc("product",t)}}let g=(()=>{class t{constructor(t,r){this.router=t,this.route=r,this.listfilter=""}get listfilter(){return this._listfilter}set listfilter(t){this._listfilter=t,this.filteredArr=this.listfilter?this.performFilter(this.listfilter):this.products}ngOnInit(){this.route.data.subscribe({next:t=>{this.products=t.products,this.filteredArr=this.products}})}performFilter(t){return t=t.toLocaleLowerCase(),this.products.filter(r=>-1!==r.name.toLocaleLowerCase().indexOf(t))}}return t.\u0275fac=function(r){return new(r||t)(d.Ob(n.f),d.Ob(n.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-product-list"]],decls:14,vars:2,consts:[[1,"container","main"],[1,"text-white","bg-success","py-2","pl-2","font-weight-bold","animate__animated","animate__bounceInRight"],[1,"row","container"],[1,"col-sm-8","col-md-5"],[1,"input-group"],["type","text","placeholder","search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-search"],[1,"row","mx-sm-0","mx-md-2","p-md-3","d-flex","justify-content-center"],["class","col-sm-4 col-md-3 ",4,"ngFor","ngForOf"],[1,"col-sm-4","col-md-3"],[3,"product"]],template:function(t,r){1&t&&(d.Ub(0,"div",0),d.Ub(1,"h2",1),d.Ac(2,"Our Top Products"),d.Tb(),d.Pb(3,"hr"),d.Ub(4,"div",2),d.Ub(5,"div",3),d.Ub(6,"div",4),d.Ub(7,"input",5),d.cc("ngModelChange",(function(t){return r.listfilter=t})),d.Tb(),d.Ub(8,"div",6),d.Ub(9,"span",7),d.Pb(10,"i",8),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Pb(11,"br"),d.Ub(12,"div",9),d.zc(13,m,2,2,"div",10),d.Tb(),d.Tb()),2&t&&(d.Cb(7),d.nc("ngModel",r.listfilter),d.Cb(6),d.nc("ngForOf",r.filteredArr))},directives:[o.a,o.j,o.m,e.k,h],styles:[".fa[_ngcontent-%COMP%]{color:green}h2[_ngcontent-%COMP%]{color:#fff;margin-top:20px}.main[_ngcontent-%COMP%]{padding-top:15vh}"],data:{animation:[Object(a.m)("fade",[Object(a.l)("void => *",[Object(a.k)({backgroundColor:"eee",opacity:0}),Object(a.e)(5e3,Object(a.k)({backgroundColor:"fff",opacity:1}))])])]}}),t})();var f=c("HUr+"),v=c("LRne"),T=c("lJxs"),C=c("JIr8"),U=c("S3Px");let w=(()=>{class t{constructor(t){this.productservice=t}resolve(t,r){const c=+t.paramMap.get("id");if(isNaN(c)){const t="Wrong router "+c;return console.error(t),Object(v.a)({product:null,error:t})}return this.productservice.getProduct(c).pipe(Object(T.a)(t=>({product:t})),Object(C.a)(t=>{const r="There occured an error: "+t;return console.error(r),Object(v.a)({product:null,error:r})}))}}return t.\u0275fac=function(r){return new(r||t)(d.Yb(U.a))},t.\u0275prov=d.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=c("jrh1");const x=function(){return["/services/products"]};function O(t,r){if(1&t){const t=d.Vb();d.Ub(0,"div",8),d.Ub(1,"div",3),d.Ub(2,"div",9),d.Pb(3,"img",10),d.Tb(),d.Ub(4,"div",9),d.Pb(5,"br"),d.Ub(6,"strong",11),d.Ac(7,"Price: "),d.Tb(),d.Ub(8,"span"),d.Ac(9),d.hc(10,"currency"),d.Tb(),d.Pb(11,"br"),d.Ub(12,"strong",11),d.Ac(13,"Realese Date:"),d.Tb(),d.Ub(14,"span"),d.Ac(15),d.Tb(),d.Pb(16,"br"),d.Ub(17,"strong",11),d.Ac(18,"Product Code:"),d.Tb(),d.Ub(19,"span"),d.Ac(20),d.Tb(),d.Pb(21,"br"),d.Ub(22,"div"),d.Ub(23,"div",12),d.Ub(24,"div",13),d.Pb(25,"span",14),d.Pb(26,"span",14),d.Pb(27,"span",14),d.Pb(28,"span",14),d.Pb(29,"span",14),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Pb(30,"br"),d.Ub(31,"div",3),d.Ub(32,"div",15),d.Ub(33,"h3",16),d.Ac(34,"Product Details"),d.Tb(),d.Ub(35,"p",17),d.Ac(36),d.Tb(),d.Tb(),d.Tb(),d.Ub(37,"div",3),d.Ub(38,"div",9),d.Ub(39,"button",18),d.Ac(40,"Shop"),d.Tb(),d.Tb(),d.Ub(41,"div",9),d.Ub(42,"button",19),d.cc("click",(function(){d.tc(t);const r=d.gc();return r.addToCart(r.product)})),d.Ac(43," ADD TO CART "),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){const t=d.gc();d.Cb(3),d.nc("src",null==t.product?null:t.product.imageUrl,d.vc)("alt",null==t.product?null:t.product.name),d.Cb(6),d.Cc(" ",d.kc(10,10,null==t.product?null:t.product.price,"Ksh","symbol","1.2-2"),""),d.Cb(6),d.Cc(" ",null==t.product?null:t.product.releaseDate,""),d.Cb(5),d.Cc(" ",null==t.product?null:t.product.productCode,""),d.Cb(3),d.yc("width",t.starWidth,"px"),d.nc("title",t.rating),d.Cb(13),d.Bc(null==t.product?null:t.product.description),d.Cb(3),d.nc("routerLink",d.oc(15,x))}}function A(t,r){if(1&t&&(d.Ub(0,"div",20),d.Ac(1),d.Tb()),2&t){const t=d.gc();d.Cb(1),d.Cc(" ",t.errorMessage," ")}}let M=(()=>{class t{constructor(t,r,c){this.productservice=t,this.route=r,this.cartservice=c,this.errorMessage=""}ngOnInit(){const t=this.route.snapshot.data.productResolve;this.errorMessage=t.error,this.onProductRetrival(t.product)}onProductRetrival(t){this.product=t,this.pageTitle=this.product?""+this.product.name:"No product found"}addToCart(t){this.cartservice.addToCart(t)}ngOnChanges(){this.product&&(this.rating=this.product.productCode,this.starWidth=15*this.rating)}}return t.\u0275fac=function(r){return new(r||t)(d.Ob(U.a),d.Ob(n.a),d.Ob(P.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-product-detail"]],features:[d.Ab],decls:12,vars:3,consts:[[1,"container","main"],[1,"row","justify-content-center"],[1,"col-sm-10"],[1,"row"],[1,"col-md-9"],[1,"py-2","bg-success","pl-2","text-white","border",2,"border-radius","8px"],["class","sub-main",4,"ngIf"],["class","bg-danger text-white font-weight-bold",4,"ngIf"],[1,"sub-main"],[1,"col-md-5"],[3,"src","alt"],[1,"text-success"],[1,"crop","div",3,"title"],[1,"div",2,"width","75px"],[1,"fa","fa-star"],[1,"col-sm-10","ml-md-1"],[1,"text-success","mb-1","font-weight-bold",2,"text-decoration","underline"],[1,"details","text-success","px-1","py-3","text-justify","border","border-success",2,"border-radius","8px"],["type","button",1,"btn","btn-success","mr-3","text-white","w-75","mx-auto",2,"border-radius","8px",3,"routerLink"],["type","button",1,"btn","btn-warning","text-danger","w-75","mx-auto",2,"border-radius","8px",3,"click"],[1,"bg-danger","text-white","font-weight-bold"]],template:function(t,r){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"div",2),d.Ub(3,"div",3),d.Ub(4,"div",4),d.Pb(5,"br"),d.Ub(6,"h2",5),d.Ac(7),d.Tb(),d.Pb(8,"hr"),d.Tb(),d.Tb(),d.zc(9,O,44,16,"div",6),d.Tb(),d.Tb(),d.Pb(10,"br"),d.zc(11,A,2,1,"div",7),d.Tb()),2&t&&(d.Cb(7),d.Bc(r.pageTitle),d.Cb(2),d.nc("ngIf",r.product),d.Cb(2),d.nc("ngIf",!r.product))},directives:[e.l,n.g],pipes:[e.c],styles:["img[_ngcontent-%COMP%]{width:100%;height:200px}.main[_ngcontent-%COMP%]{padding-top:15vh}.crop[_ngcontent-%COMP%]{overflow:hidden}.div[_ngcontent-%COMP%]{cursor:pointer}.fa-star[_ngcontent-%COMP%]{color:#240361}@media (max-width:575px){img[_ngcontent-%COMP%]{width:100%}}@media (min-width:576px){img[_ngcontent-%COMP%]{width:60%}}@media (min-width:768px){img[_ngcontent-%COMP%]{width:80%}}@media (min-width:900px){img[_ngcontent-%COMP%]{width:80%}}@media (min-width:1200px){img[_ngcontent-%COMP%]{width:80%}}"]}),t})();function y(t,r){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",2),d.Ub(2,"div",3),d.Ub(3,"div"),d.Pb(4,"img",4),d.Tb(),d.Tb(),d.Ub(5,"div",5),d.Ub(6,"div",6),d.Ac(7),d.Tb(),d.Pb(8,"br"),d.Ub(9,"div",7),d.Ac(10),d.Tb(),d.Ub(11,"div",8),d.Ac(12),d.hc(13,"currency"),d.Tb(),d.Ub(14,"div",9),d.Ub(15,"em",10),d.Ac(16,"Change Quantity"),d.Tb(),d.Ub(17,"input",11),d.cc("ngModelChange",(function(r){return d.tc(t),d.gc().product.num=r}))("ngModelChange",(function(r){return d.tc(t),d.gc().modelChanged(r)})),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){const t=d.gc();d.Cb(4),d.nc("src",t.product.imageUrl,d.vc)("alt",t.product.name),d.Cb(3),d.Bc(t.product.name),d.Cb(3),d.Cc("Quatity: ",t.product.num,""),d.Cb(2),d.Cc("Price: ",d.kc(13,6,t.totalUnit(),"ksh ","symbol","1.2-2"),""),d.Cb(5),d.nc("ngModel",t.product.num)}}let _=(()=>{class t{constructor(t){this.cartservice=t,this.productRemoved=new d.o,this.productNum=new d.o}ngOnInit(){}modelChanged(t){0===this.product.num?this.productRemoved.emit(this.product):this.productNum.emit(this.product)}totalUnit(){return this.product.num*this.product.price}}return t.\u0275fac=function(r){return new(r||t)(d.Ob(P.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-cart"]],inputs:{product:"product"},outputs:{productRemoved:"productRemoved",productNum:"productNum"},decls:2,vars:1,consts:[[1,"container","main"],[4,"ngIf"],[1,"row"],[1,"col-md-4"],[3,"src","alt"],[1,"col-md-8"],[1,"bg-success","text-white"],[1,"text-warning",2,"font-weight","bold"],[1,"mt-2","text-success"],[1,"mt-2"],[1,"mb-0","text-success"],["type","number","min","0",1,"form-control","mt-0",2,"width","100%","border-radius","5px",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(d.Ub(0,"div",0),d.zc(1,y,18,11,"div",1),d.Tb()),2&t&&(d.Cb(1),d.nc("ngIf",r.product))},directives:[e.l,o.p,o.a,o.j,o.m],pipes:[e.c],styles:["@media (max-width:575px){img[_ngcontent-%COMP%]{width:100%}}@media (min-width:576px){img[_ngcontent-%COMP%]{width:60%}}@media (min-width:768px){img[_ngcontent-%COMP%]{width:100%;height:100%}}@media (min-width:900px){img[_ngcontent-%COMP%]{width:100%}}@media (min-width:1200px){img[_ngcontent-%COMP%]{width:100%}}"]}),t})();function k(t,r){if(1&t){const t=d.Vb();d.Ub(0,"div",19),d.Pb(1,"br"),d.Ub(2,"app-cart",20),d.cc("productRemoved",(function(r){return d.tc(t),d.gc().removeProduct(r)}))("productNum",(function(r){return d.tc(t),d.gc().productNum(r)})),d.Tb(),d.Pb(3,"br"),d.Tb()}if(2&t){const t=r.$implicit;d.Cb(2),d.nc("product",t)}}const I=function(){return["/services/products"]},R=[{path:"products",component:g,resolve:{products:f.a}},{path:"products/cart",component:(()=>{class t{constructor(t){this.cart=t,this.productRemoved=new d.o}productNum(t){return this.productNumber=t,this.ngOnChanges(),t}ngOnInit(){this.products=this.cart.getItems(),this.calcTotal(),this.navData=this.calcTotal(),this.cart.shopCartitem(this.navData),this.totalPrice=this.cart.getTotal(),this.totalPrice2=this.totalPrice,console.log("navbar",this.getNavData())}calcTotal(){return this.products.reduce((t,r)=>t+r.num,0)}getNavData(){return this.navData}removeProduct(t){this.products=this.cart.removeOneItem(t);const r=[...this.products].map(t=>t.price*t.num).reduce((t,r)=>t+r,0);this.navData=this.products.reduce((t,r)=>t+r.num,0),this.cart.shopCartitem(this.navData),this.totalPrice2=r}ngOnChanges(){if(this.productNumber){const t=this.products.findIndex(t=>t.productId===this.productNumber.productId);this.products[t]=this.productNumber;const r=[...this.products].map(t=>t.price*t.num).reduce((t,r)=>t+r,0);this.totalPrice2=r,this.navData=this.products.reduce((t,r)=>t+r.num,0),this.cart.shopCartitem(this.navData)}}}return t.\u0275fac=function(r){return new(r||t)(d.Ob(P.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-shoppingcart"]],outputs:{productRemoved:"productRemoved"},features:[d.Ab],decls:46,vars:16,consts:[[1,"container","main"],[1,"bg-success","text-light","mb-2","text-center","bg-success","animate__animated","animate__bounceInRight",2,"border-radius","10px"],[1,"text-center","font-weight-bold"],[1,"lead"],[1,"clearfix"],[1,"float-right","mr-2","bg-white","text-danger","p-2",2,"font-size","1.2em","border-radius","3px"],[1,"fa","fa-shopping-cart"],[1,"row","mx-2"],[1,"col-md-8"],[1,"row","justify-content-around"],["class","col-md-5 border border-success rounded mb-1",4,"ngFor","ngForOf"],[1,"col-md-4","border","border-info","rounded"],[1,"bg-success","text-white","text-center",2,"width","100%"],[1,"table"],[1,"text-warning","font-weight-bold"],[1,"row"],[1,"col-md-5"],[1,"btn","btn-success","text-light",3,"routerLink"],[1,"btn","btn-warning","text-danger"],[1,"col-md-5","border","border-success","rounded","mb-1"],[3,"product","productRemoved","productNum"]],template:function(t,r){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"h2",2),d.Ac(3,"Shopping Cart"),d.Tb(),d.Ub(4,"p",3),d.Ac(5,"Welcome to goOrganic"),d.Tb(),d.Ub(6,"div",4),d.Ub(7,"p",5),d.Pb(8,"i",6),d.Ac(9),d.Tb(),d.Tb(),d.Tb(),d.Ub(10,"div",7),d.Ub(11,"div",8),d.Ub(12,"div",9),d.zc(13,k,4,1,"div",10),d.Tb(),d.Tb(),d.Ub(14,"div",11),d.Pb(15,"br"),d.Ub(16,"h2",12),d.Ac(17,"goOrganic Checkout"),d.Tb(),d.Ub(18,"div",13),d.Ub(19,"thead"),d.Ub(20,"tr"),d.Ub(21,"th"),d.Ac(22,"Subtotal:"),d.Tb(),d.Ub(23,"th"),d.Ac(24),d.hc(25,"currency"),d.Tb(),d.Tb(),d.Tb(),d.Ub(26,"tbody"),d.Ub(27,"tr"),d.Ub(28,"td"),d.Ac(29,"VAT"),d.Tb(),d.Ub(30,"td"),d.Ac(31,"KSH 0"),d.Tb(),d.Tb(),d.Ub(32,"tr"),d.Ub(33,"td"),d.Ac(34,"TOTAL"),d.Tb(),d.Ub(35,"td",14),d.Ac(36),d.hc(37,"currency"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(38,"div",15),d.Ub(39,"div",16),d.Ub(40,"button",17),d.Ac(41,"Shop"),d.Tb(),d.Tb(),d.Ub(42,"div",16),d.Ub(43,"button",18),d.Ac(44,"Checkout"),d.Tb(),d.Tb(),d.Tb(),d.Pb(45,"br"),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Cb(9),d.Cc(" Items: ",r.calcTotal(),""),d.Cb(4),d.nc("ngForOf",r.products),d.Cb(11),d.Bc(d.kc(25,5,r.totalPrice2,"KSH ","symbol","1.2-2")),d.Cb(12),d.Bc(d.kc(37,10,r.totalPrice2,"KSH ","symbol","1.2-2")),d.Cb(4),d.nc("routerLink",d.oc(15,I)))},directives:[e.k,n.g,_],pipes:[e.c],styles:[".main[_ngcontent-%COMP%]{padding-top:20vh;background-color:#fff}"]}),t})(),canActivate:[b]},{path:"products/:id",component:M,canActivate:[b],resolve:{productResolve:w}}];let j=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(r){return new(r||t)},imports:[[e.b,n.j.forChild(R),i.a,o.f],n.j,o.f,i.a]}),t})()}}]);